<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hadoop单机模式/伪分布式搭建</title>
    <url>/2020/03/18/Hadoop%E5%8D%95%E6%9C%BA%E6%A8%A1%E5%BC%8F-%E4%BC%AA%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%AD%E5%BB%BA/</url>
    <content><![CDATA[<h1 id="Hadoop单机模式-伪分布式搭建"><a href="#Hadoop单机模式-伪分布式搭建" class="headerlink" title="Hadoop单机模式/伪分布式搭建"></a>Hadoop单机模式/伪分布式搭建</h1><h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><h3 id="Hadoop三种安装模式简介"><a href="#Hadoop三种安装模式简介" class="headerlink" title="Hadoop三种安装模式简介"></a>Hadoop三种安装模式简介</h3><p>Hadoop共有三种安装模式可以使用：单机模式、伪分布式、完全分布式</p>
<p>1.Hadoop单机模式<br>单机模式是Hadoop默认的安装模式，这种安装模式主要就是并不配置更多的配置文件，只是保守的去设置默认的几个配置文件中的初始化参数，他并不与其他节点进行交互，并且也不使用HDFS文件系统，它主要就是为了调试MapReduce程序而生。</p>
<p>2.Hadoop伪分布式安装模式<br>Hadoop伪分布式安装，需要配置5个常规的配置文件（XML），并且这里涉及到了NameNode和DataNode节点交互问题，而且NameNode和DataNode在同一个节点上，还需要配置互信。其实从严格意义上来讲，我们的伪分布式集群，就已经可以称之为真正意义上的集群了，而且这里也包含了hdfs和MapReduce所有组件，只不过就是所有组件在同一个节点上而已。</p>
<p>3.Hadoop完全分布式安装模式<br>Hadoop完全分布式集群主要分为：常规Hadoop完全分布式集群和Hadoop HA集群（这里我们主要针对的是NameNode个数和NameNode的高可用保障机制而言）。由此可知较伪分布式集群而言，我们的完全分布式集群，所有处理节点并不在同一个节点上，而是在多个节点上。</p>
<h3 id="搭建环境准备"><a href="#搭建环境准备" class="headerlink" title="搭建环境准备"></a>搭建环境准备</h3><p>这里介绍本文所用的搭建环境</p>
<p>1、虚拟机：使用VMware15.5,XShell6&amp;Xftp,CentOS7</p>
<p>2、Hadoop：Hadoop-2.7.7，jdk-8u231</p>
<p>需要提前下载并安装好虚拟机相关软件，并下载所需Hadoop与jdk的压缩包（.tar.gz)</p>
<p>使用前请确认虚拟机网络已经配置好且XShell可以连接到虚拟机</p>
<h2 id="通用设置配置"><a href="#通用设置配置" class="headerlink" title="通用设置配置"></a>通用设置配置</h2><h3 id="下载-解压安装包"><a href="#下载-解压安装包" class="headerlink" title="下载/解压安装包"></a>下载/解压安装包</h3><p>这里我们在root目录下创建一个download文件夹</p>
<p><code>mkdir download</code></p>
<p>再创建一个app文件夹用于存放解压的安装包</p>
<p><code>mkdir app</code></p>
<p>此时可以使用ls命令查看文件夹是否创建成功</p>
<p><code>ls</code></p>
<p><img src="http://q74q2iwtd.bkt.clouddn.com/h3.png" alt="h3"></p>
<p>使用Xftp将下载好的压缩包传输到download文件夹下</p>
<p>接下来进入download目录</p>
<p><code>cd download</code></p>
<p><code>ls        //检查是否传输成功</code></p>
<p>将压缩包解压到app文件夹下</p>
<p><code>tar -zxvf jdk-8u231-linux-x64.tar.gz -C /root/app        //注意你的jdk版本和Hadoop版本，如果不同及时修改</code></p>
<p><code>tar -zxvf hadoop-2.7.7.tar.gz -C /root/app</code></p>
<p>接下来我们进入app目录，检查是否解压成功</p>
<p><code>cd /root/app</code></p>
<p><code>ls</code></p>
<p>可以看到：</p>
<p><img src="http://q74q2iwtd.bkt.clouddn.com/h4.png" alt="h4"></p>
<p>说明解压成功</p>
<h3 id="修改主机名"><a href="#修改主机名" class="headerlink" title="修改主机名"></a>修改主机名</h3><p><code>vi /etc/hostname</code></p>
<p>将配置文件内原有内容删除并修改为你要修改的主机名，本文修改主机名为“Hadoop”，修改完后保存并退出。<strong>注意：</strong>修改完后需要重启虚拟机才会生效</p>
<p>可以通过以下命令查看当前主机名</p>
<p><code>hostname</code></p>
<h3 id="配置hosts"><a href="#配置hosts" class="headerlink" title="配置hosts"></a>配置hosts</h3><p>打开hosts配置文件</p>
<p><code>vi /etc/hosts</code></p>
<p>修改hosts配置文件内容</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4</span><br><span class="line">::1         localhost localhost.localdomain localhost6 localhost6.localdomain6</span><br><span class="line">192.168.48.105 hadoop	&#x2F;&#x2F;添加此项，内容为你的虚拟机主机IP+主机名</span><br></pre></td></tr></table></figure>

<h3 id="关闭防火墙"><a href="#关闭防火墙" class="headerlink" title="关闭防火墙"></a>关闭防火墙</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">systemctl start firewalld		&#x2F;&#x2F;立即启动防火墙</span><br><span class="line">systemctl stop firewalld		&#x2F;&#x2F;立即关闭防火墙</span><br><span class="line">systemctl status firewalld 		&#x2F;&#x2F;查看防火墙状态</span><br><span class="line">systemctl disable firewalld		&#x2F;&#x2F;开机禁用防火墙</span><br><span class="line">systemctl enable firewalld		&#x2F;&#x2F;开机启动防火墙</span><br></pre></td></tr></table></figure>

<p>可以先通过命令查看防火墙状态，如果防火墙处于active状态需要先关闭防火墙</p>
<h3 id="设置ssh免密登录"><a href="#设置ssh免密登录" class="headerlink" title="设置ssh免密登录"></a>设置ssh免密登录</h3><p><code>ssh-keygen</code></p>
<p>输入后一路回车即可，最后会如下图</p>
<p><img src="http://q74q2iwtd.bkt.clouddn.com/h1.png" alt="h1"></p>
<p>此时会在 ~/.ssh 目录下生成 id_rsa 和 id_rsa.pub 两个文件，id_rsa 为私钥， id_rsa.pub 为公钥，紧接着将公钥文件复制成 authorized_keys 文件（存放远程免密登录的公钥,主要通过这个文件记录多台机器的公钥 ）</p>
<p><code>cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</code></p>
<p>此时无密码登录已经配置完成，我们测试一下</p>
<p><code>ssh hadoop</code></p>
<p>第一次会提示你是否继续操作，输入yes即可成功登录</p>
<p><img src="http://q74q2iwtd.bkt.clouddn.com/h2.png" alt="h2"></p>
<h3 id="配置Java环境变量"><a href="#配置Java环境变量" class="headerlink" title="配置Java环境变量"></a>配置Java环境变量</h3><p>打开环境变量配置文件</p>
<p><code>vi /etc/profile</code></p>
<p>在配置文件末尾加入</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export JAVA_HOME&#x3D;&#x2F;root&#x2F;app&#x2F;jdk1.8.0_231</span><br><span class="line">export PATH&#x3D;$PATH:$JAVA_HOME&#x2F;bin</span><br></pre></td></tr></table></figure>

<p>刷新配置文件</p>
<p><code>source /etc/profile</code></p>
<p>输入<code>java</code>，如果出现以下内容，说明Java配置成功</p>
<p><img src="http://q74q2iwtd.bkt.clouddn.com/h5.png" alt="h5"></p>
<h3 id="配置Hadoop环境变量"><a href="#配置Hadoop环境变量" class="headerlink" title="配置Hadoop环境变量"></a>配置Hadoop环境变量</h3><p>打开环境变量配置文件</p>
<p><code>vi /etc/profile</code></p>
<p>在配置文件末尾加入</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export HADOOP_HOME&#x3D;&#x2F;root&#x2F;app&#x2F;hadoop-2.7.7</span><br><span class="line">export PATH&#x3D;$PATH:$HADOOP_HOME&#x2F;bin:$HADOOP_HOME&#x2F;sbin</span><br></pre></td></tr></table></figure>

<p>刷新配置文件</p>
<p><code>source /etc/profile</code></p>
<p>输入<code>hadoop version</code>，如果出现以下内容，说明配置成功</p>
<p><img src="http://q74q2iwtd.bkt.clouddn.com/h6.png" alt="h6"></p>
<p><strong>注：</strong>Hadoop安装后默认即为单机模式，不需要修改其他配置文件，也就是说到这里，Hadoop单机模式已经配置成功，接下来我们开始伪分布式的配置</p>
<h2 id="伪分布式配置"><a href="#伪分布式配置" class="headerlink" title="伪分布式配置"></a>伪分布式配置</h2><p>首先进入到Hadoop的配置文件目录</p>
<p><code>cd /root/app/hadoop-2.7.7/etc/hadoop</code></p>
<h3 id="配置-hadoop-env-sh"><a href="#配置-hadoop-env-sh" class="headerlink" title="配置 hadoop-env.sh"></a>配置 hadoop-env.sh</h3><p><code>vi hadoop-env.sh</code></p>
<p>将JAVA_HOME修改为你的jdk安装路径</p>
<p><img src="http://q74q2iwtd.bkt.clouddn.com/h7.png" alt="h7"></p>
<h3 id="配置core-site-xml"><a href="#配置core-site-xml" class="headerlink" title="配置core-site.xml"></a>配置core-site.xml</h3><p><code>vi core-site.xml</code></p>
<p> 在<configuration>/</configuration>中间添加配置</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">&lt;!-- 指定HADOOP所使用的文件系统schema（URI），HDFS的老大（NameNode）的地址 --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">       &lt;name&gt;fs.defaultFS&lt;&#x2F;name&gt;</span><br><span class="line">       &lt;value&gt;hdfs:&#x2F;&#x2F;hadoop:9000&lt;&#x2F;value&gt;</span><br><span class="line">&lt;&#x2F;property&gt;</span><br><span class="line">&lt;!-- 指定hadoop运行时产生临时文件的存储目录 --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">       &lt;name&gt;hadoop.tmp.dir&lt;&#x2F;name&gt;</span><br><span class="line">       &lt;value&gt;&#x2F;usr&#x2F;java&#x2F;jdk1.8.0_181&#x2F;tmp&lt;&#x2F;value&gt;</span><br><span class="line">&lt;&#x2F;property&gt;</span><br><span class="line">&lt;&#x2F;configuration&gt;</span><br></pre></td></tr></table></figure>

<h3 id="配置hdfs-site-xml"><a href="#配置hdfs-site-xml" class="headerlink" title="配置hdfs-site.xml"></a>配置hdfs-site.xml</h3><p><code>vi hdfs-site.xml</code></p>
<p> 在<configuration>/</configuration>中间添加配置</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">&lt;!-- 指定HDFS副本的数量 --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">          &lt;name&gt;dfs.replication&lt;&#x2F;name&gt;</span><br><span class="line">          &lt;value&gt;1&lt;&#x2F;value&gt;</span><br><span class="line">&lt;&#x2F;property&gt;</span><br><span class="line">&lt;&#x2F;configuration&gt;</span><br></pre></td></tr></table></figure>

<h3 id="配置-mapred-site-xml"><a href="#配置-mapred-site-xml" class="headerlink" title="配置 mapred-site.xml"></a>配置 mapred-site.xml</h3><p><code>vi mapred-site.xml.template</code></p>
<p>在<configuration>/</configuration>中间添加配置</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">&lt;!--指定mr运行在yarn上--&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">　　&lt;name&gt;mapreduce.framework.name&lt;&#x2F;name&gt;</span><br><span class="line">　　&lt;value&gt;yarn&lt;&#x2F;value&gt;</span><br><span class="line">&lt;&#x2F;property&gt;</span><br><span class="line">&lt;&#x2F;configuration&gt;</span><br></pre></td></tr></table></figure>

<p>然后将该文件复制一份并重命名</p>
<p><code>cp mapred-site.xml.template mapred-site.xml</code></p>
<h3 id="配置yarn-site-xml"><a href="#配置yarn-site-xml" class="headerlink" title="配置yarn-site.xml"></a>配置yarn-site.xml</h3><p><code>vi  yarn-site.xml</code></p>
<p>在<configuration>/</configuration>中间添加配置</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;!-- 指定YARN的老大（ResourceManager）的地址--&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.resourcemanager.hostname&lt;&#x2F;name&gt;</span><br><span class="line">        &lt;value&gt;hadoop&lt;&#x2F;value&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br><span class="line">    &lt;!-- 指定reducer获取数据的方式--&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.nodemanager.aux-services&lt;&#x2F;name&gt;</span><br><span class="line">        &lt;value&gt;mapreduce_shuffle&lt;&#x2F;value&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br><span class="line">&lt;&#x2F;configuration&gt;</span><br></pre></td></tr></table></figure>

<h3 id="格式化NameNode"><a href="#格式化NameNode" class="headerlink" title="格式化NameNode"></a>格式化NameNode</h3><p><code>cd /root/app/hadoop-2.7.7/bin</code></p>
<p><code>hdfs namenode -format</code></p>
<p><strong>注，此代码的作用是格式化文件，故只能执行一次，不要轻易执行第二次</strong></p>
<p>如果没有报错且在最后显示以下信息，说明格式化成功</p>
<p><img src="http://q74q2iwtd.bkt.clouddn.com/h8.png" alt="h8"></p>
<h3 id="启动Hadoop"><a href="#启动Hadoop" class="headerlink" title="启动Hadoop"></a>启动Hadoop</h3><p><code>cd /root/app/hadoop-2.7.7</code></p>
<p><code>sbin/start-all.sh</code></p>
<p>第一次启动可能需要输入几个yes，如下图所示代码</p>
<p><img src="http://q74q2iwtd.bkt.clouddn.com/h9.png" alt="h9"></p>
<p>接下来使用jps命令查看进程</p>
<p><code>jps</code></p>
<p>如果看到以下进程，恭喜你，Hadoop伪分布式搭建成功</p>
<p><img src="http://q74q2iwtd.bkt.clouddn.com/h10.png" alt="h10"></p>
<p>在浏览器中输入地址登录HDFS管理页面：</p>
<p><code>192.168.48.105:50070</code></p>
<p><img src="http://q74q2iwtd.bkt.clouddn.com/h11.png" alt="h11"></p>
<p>至此，整个Hadoop伪分布式搭建就完成啦！</p>
]]></content>
      <tags>
        <tag>Hadoop</tag>
      </tags>
  </entry>
  <entry>
    <title>CentOS安装与联网</title>
    <url>/2020/03/14/CentOS%E5%AE%89%E8%A3%85%E4%B8%8E%E8%81%94%E7%BD%91/</url>
    <content><![CDATA[<h1 id="CentOS7虚拟机安装与联网"><a href="#CentOS7虚拟机安装与联网" class="headerlink" title="CentOS7虚拟机安装与联网"></a>CentOS7虚拟机安装与联网</h1><p>实验环境：VMware,CentOS7_x64</p>
<h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><p>下载并安装VMware用于安装虚拟机，下载CentOS7镜像</p>
<h2 id="CentOS7安装"><a href="#CentOS7安装" class="headerlink" title="CentOS7安装"></a>CentOS7安装</h2><h3 id="选用安装配置类型"><a href="#选用安装配置类型" class="headerlink" title="选用安装配置类型"></a>选用安装配置类型</h3><p>选用自定义类型配置创建虚拟机</p>
<p><img src="http://q74q2iwtd.bkt.clouddn.com/1.png" alt="1"></p>
<h3 id="选择下载的镜像文件"><a href="#选择下载的镜像文件" class="headerlink" title="选择下载的镜像文件"></a>选择下载的镜像文件</h3><p>单击浏览，选择自己的镜像下载到的本地的位置</p>
<p>如果提示“无法检测此光盘映像中的操作系统”可以忽略，直接下一步</p>
<p><img src="http://q74q2iwtd.bkt.clouddn.com/2.png" alt="2"></p>
<h3 id="为虚拟机命名并选择安装位置"><a href="#为虚拟机命名并选择安装位置" class="headerlink" title="为虚拟机命名并选择安装位置"></a>为虚拟机命名并选择安装位置</h3><p><img src="http://q74q2iwtd.bkt.clouddn.com/3.png" alt="3"></p>
<p><strong>其他步骤使用默认配置即可</strong></p>
<h3 id="语言选择"><a href="#语言选择" class="headerlink" title="语言选择"></a>语言选择</h3><p>下拉到最底下，选择中文</p>
<p><img src="http://q74q2iwtd.bkt.clouddn.com/4.png" alt="4"></p>
<h3 id="安装信息摘要"><a href="#安装信息摘要" class="headerlink" title="安装信息摘要"></a>安装信息摘要</h3><p>这里可能要稍稍等一下，如果图标上有感叹号就点进去然后点左上角完成即可</p>
<p>待所有感叹号消失就可以点击开始安装啦</p>
<p><img src="http://q74q2iwtd.bkt.clouddn.com/5.png" alt="5"></p>
<h3 id="设置root用户密码"><a href="#设置root用户密码" class="headerlink" title="设置root用户密码"></a>设置root用户密码</h3><p>方便起见，我们只设置root用户，不创建新用户，以后的所有操作也都在root用户上执行</p>
<p><img src="http://q74q2iwtd.bkt.clouddn.com/6.png" alt="6"></p>
<p><img src="http://q74q2iwtd.bkt.clouddn.com/7.png" alt="7"></p>
<p>设置完成后耐心等待虚拟机安装完成就好啦（根据电脑配置这里安装速度也会不同，一般会需要10-30分钟）</p>
<p><img src="http://q74q2iwtd.bkt.clouddn.com/8.png" alt="8"></p>
<p>安装完成！重启开始我们的网络配置吧！</p>
<h2 id="CentOS网络配置"><a href="#CentOS网络配置" class="headerlink" title="CentOS网络配置"></a>CentOS网络配置</h2><h3 id="登录root用户"><a href="#登录root用户" class="headerlink" title="登录root用户"></a>登录root用户</h3><p>登录系统时，首先需要输入用户名，我们使用root用户登录</p>
<p>注意，当鼠标切换到虚拟机里进行操作时，108键键盘的数字区域会默认关闭，需要NUMLock手动打开哟，否则可能输入很多次“正确”密码都会显示密码错误</p>
<p><img src="http://q74q2iwtd.bkt.clouddn.com/9.png" alt="9"></p>
<h3 id="配置ifcfg-ens33文件"><a href="#配置ifcfg-ens33文件" class="headerlink" title="配置ifcfg-ens33文件"></a>配置ifcfg-ens33文件</h3><p>首先切换到网络配置文件夹下,使用ls命令即可看到文件夹下所有文件</p>
<p><code>cd /etc/sysconfig/network-scripts</code></p>
<p><code>ls</code></p>
<p><img src="http://q74q2iwtd.bkt.clouddn.com/10.png" alt="10"></p>
<h4 id="Plan1"><a href="#Plan1" class="headerlink" title="Plan1."></a>Plan1.</h4><p>首先使用ip addr命令查看网卡配置项HWADDR</p>
<p><code>ip addr</code></p>
<p><img src="http://q74q2iwtd.bkt.clouddn.com/11.png" alt="11"></p>
<p>记录下这个后我们开始使用vi编辑器修改配置文件（进入时只能浏览，按i开始编辑）</p>
<p><strong>HWADDR以及后面的子网IP，子网掩码，网关IP需要根据自己虚拟机情况输入，不要直接复制粘贴</strong></p>
<p>点击VMware左上角菜单栏的编辑-虚拟网络编辑器</p>
<p>在虚拟网络编辑器中选择NAT模式这一栏，再从下面打开NAT设置，即可查看自己虚拟机的子网IP，子网掩码以及网关</p>
<p><strong>注意子网IP第四部分不能用0和1，建议使用101，然后其他虚拟机依次102，103…即可</strong></p>
<p><code>vi ifcfg-ens33</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">TYPE&#x3D;Ethernet</span><br><span class="line">PROXY_METHOD&#x3D;none</span><br><span class="line">BROWSER_ONLY&#x3D;no</span><br><span class="line">BOOTPROTO&#x3D;static  &#x2F;&#x2F;修改此项</span><br><span class="line">DEFROUTE&#x3D;yes</span><br><span class="line">IPV4_FAILURE_FATAL&#x3D;no</span><br><span class="line">IPV6INIT&#x3D;yes</span><br><span class="line">IPV6_AUTOCONF&#x3D;yes</span><br><span class="line">IPV6_DEFROUTE&#x3D;yes</span><br><span class="line">IPV6_FAILURE_FATAL&#x3D;no</span><br><span class="line">IPV6_ADDR_GEN_MODE&#x3D;stable-privacy</span><br><span class="line">NAME&#x3D;ens33</span><br><span class="line">UUID&#x3D;767e62e3-20e7-43dd-9268-d58142a34072</span><br><span class="line">DEVICE&#x3D;ens33</span><br><span class="line">ONBOOT&#x3D;yes	&#x2F;&#x2F;修改此项</span><br><span class="line">HWADDR&#x3D;00:0c:29:e1:9f:fd				&#x2F;&#x2F;添加此项</span><br><span class="line">IPADDR&#x3D;192.168.48.101		&#x2F;&#x2F;添加此项，为子网IP</span><br><span class="line">NETMASK&#x3D;255.255.255.0		&#x2F;&#x2F;添加此项，为子网掩码</span><br><span class="line">GATEWAY&#x3D;192.168.48.2		&#x2F;&#x2F;添加此项，为网关IP</span><br><span class="line">DNS1&#x3D;8.8.8.8		&#x2F;&#x2F;添加此项</span><br><span class="line">DNS2&#x3D;8.8.8.4.4		&#x2F;&#x2F;添加此项</span><br></pre></td></tr></table></figure>

<p>修改完后保存并退出vi编辑器（先按ESC，然后输入<code>:wq</code>，最后按回车即可保存退出）</p>
<p>修改后我们重启一下网络服务</p>
<p><code>service network restart</code></p>
<p><strong>如果该方法配置完后依然无法联网，我们再使用方法2配置</strong></p>
<h4 id="Plan2"><a href="#Plan2" class="headerlink" title="Plan2."></a>Plan2.</h4><p>按上述方法进入虚拟网络编辑器</p>
<p>点击最下面的更改设置，弹框选择是，使用管理员权限开始重新配置</p>
<p>首先还原默认设置，还原完成后取消使用本地DHCP服务，然后将子网IP修改为<code>192.168.48.0</code></p>
<p><img src="http://q74q2iwtd.bkt.clouddn.com/12.png" alt="12"></p>
<p>接着我们和上面一样使用vi编辑器修改ifcfg-ens33配置文件（进入时只能浏览，按i开始编辑）</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">TYPE&#x3D;Ethernet</span><br><span class="line">PROXY_METHOD&#x3D;none</span><br><span class="line">BROWSER_ONLY&#x3D;no</span><br><span class="line">BOOTPROTO&#x3D;static	&#x2F;&#x2F;修改此项</span><br><span class="line">DEFROUTE&#x3D;yes</span><br><span class="line">IPV4_FAILURE_FATAL&#x3D;no</span><br><span class="line">IPV6INIT&#x3D;yes</span><br><span class="line">IPV6_AUTOCONF&#x3D;yes</span><br><span class="line">IPV6_DEFROUTE&#x3D;yes</span><br><span class="line">IPV6_FAILURE_FATAL&#x3D;no</span><br><span class="line">IPV6_ADDR_GEN_MODE&#x3D;stable-privacy</span><br><span class="line">NAME&#x3D;ens33</span><br><span class="line">UUID&#x3D;767e62e3-20e7-43dd-9268-d58142a34072</span><br><span class="line">DEVICE&#x3D;ens33</span><br><span class="line">ONBOOT&#x3D;yes		&#x2F;&#x2F;修改此项</span><br><span class="line">NM_CONTROLLED&#x3D;no	&#x2F;&#x2F;添加此项</span><br><span class="line">IPV6_PRIVACY&#x3D;no		&#x2F;&#x2F;添加此项</span><br><span class="line">IPADDR&#x3D;192.168.48.101	&#x2F;&#x2F;添加子网IP</span><br><span class="line">NETMASK&#x3D;255.255.255.0	&#x2F;&#x2F;添加子网掩码</span><br><span class="line">GATEWAY&#x3D;192.168.48.2	&#x2F;&#x2F;添加网关IP</span><br></pre></td></tr></table></figure>

<p>修改完后保存并退出vi编辑器（先按ESC，然后输入<code>:wq</code>，最后按回车即可保存退出）</p>
<p>接着我们修改DNS地址</p>
<p><code>cd /root</code></p>
<p><code>vi /etc/resolv.conf</code></p>
<p>先将文件内本来有的内容删除，然后写入：</p>
<p><code>nameserver 114.114.114.114</code></p>
<p>修改后我们重启一下网络服务</p>
<p><code>service network restart</code></p>
<h3 id="测试网络是否配置成功"><a href="#测试网络是否配置成功" class="headerlink" title="测试网络是否配置成功"></a>测试网络是否配置成功</h3><p>重启完网络服务后，我们使用ping命令测试网络是否配置成功</p>
<p><code>ping www.baidu.com</code></p>
<p>如果显示如下内容成功返回数据，说明网络配置成功</p>
<p><img src="http://q74q2iwtd.bkt.clouddn.com/13.png" alt="13"></p>
<p>如果显示</p>
<p><code>ping:www.baidu.com:Name or service not known</code></p>
<p>说明配置存在问题，请参考前面步骤检查问题（很有可能是resolv.conf没有修改完成（修改完应该只有一行<code>nameserver 114.114.114.114</code>））</p>
]]></content>
      <tags>
        <tag>Hadoop</tag>
      </tags>
  </entry>
  <entry>
    <title>win10在VScode上配置C/C++环境</title>
    <url>/2020/03/13/VSC++%E7%8E%AF%E5%A2%83/</url>
    <content><![CDATA[<h1 id="win10-VScode配置C-C-环境"><a href="#win10-VScode配置C-C-环境" class="headerlink" title="win10 VScode配置C/C++环境"></a>win10 VScode配置C/C++环境</h1><h2 id="一、下载需要的工具"><a href="#一、下载需要的工具" class="headerlink" title="一、下载需要的工具"></a>一、下载需要的工具</h2><p><strong>1.下载VScode</strong></p>
<p><strong>2.安装cpptools工具</strong><br>打开VScode，按照以下步骤安装<br><img src="https://s2.ax1x.com/2020/03/08/3zTZi6.png" alt="1.png"><br><strong>3.安装code runner工具</strong><br>在VScode中编译文件，结束后并不会像我们经常使用的IDE一样，终端会停留在面前然后告诉你“按任意键继续”，在VScode中，编译运行完成后往往cmd会一闪而过，然后直接：<br>The program ‘d:\MinGW\Projicts\test\test.exe’ has exited with code 0 (0x00000000).  </p>
<a id="more"></a>
<p>这个时候我们往往会使用在结束的return语句前加上<strong>getchar()</strong> 或<br> <strong>system(“pause”)（注意：使用这个的时候需要加上头文件#include&lt;stdlib.h&gt;）</strong>     </p>
<p>我们可以使用code runner工具来解决这个问题<br>首先和上面一样 找到这个插件并安装它     </p>
<p><img src="https://s2.ax1x.com/2020/03/08/3zT8ot.png" alt="2.png"></p>
<p>然后在如下打开界面中    </p>
<p><img src="https://s2.ax1x.com/2020/03/08/3zTJFP.png" alt="3.png"></p>
<p>选择<br><img src="https://s2.ax1x.com/2020/03/08/3zTdyQ.png" alt="4.png"> </p>
<p>以及</p>
<p><img src="https://s2.ax1x.com/2020/03/08/3zTBes.png" alt="5.png"></p>
<p>即可<br>这样我们编译运行的文件使用code runner运行就会如下图<br><img src="https://s2.ax1x.com/2020/03/08/3zTyF0.png" alt="6.png"><br>这样就和我们平时使用的IDE一样啦     </p>
<p><strong>4.下载MinGW</strong><br>下载地址：<a href="https://sourceforge.net/projects/mingw-w64/files/" target="_blank" rel="noopener">https://sourceforge.net/projects/mingw-w64/files/</a><br>下载的文件：进入网站后不要点击 “Download Lasted Version”，往下滑，找到最新版的 “x86_64-posix-seh”。<br>安装MinGW：下载后是一个7z的压缩包，解压后移动到你想安装的位置即可。</p>
<h2 id="二、配置环境变量"><a href="#二、配置环境变量" class="headerlink" title="二、配置环境变量"></a>二、配置环境变量</h2><p><strong>配置环境变量</strong><br>配置对象：WinGW，所以把你刚刚安装WinGW的路径拷贝一下<br>右键点击此电脑 → 属性 → 高级系统设置 → 环境变量 → 双击系统变量Path → 新建 → 复制你的MinGW安装路径的bin文件夹<br>例如我的是：D:\MinGW\mingw64\bin<br><strong>记得每一步都要点确定</strong><br>配置完成后我们使用命令行检验一下是否配置成功<br>win+R 输入cmd后回车打开命令行，输入g++ -v<br>出现下图界面说明配置成功<br><img src="https://s2.ax1x.com/2020/03/08/3zTWy4.png" alt="7.png"></p>
<h2 id="三、开始配置C-环境"><a href="#三、开始配置C-环境" class="headerlink" title="三、开始配置C++环境"></a>三、开始配置C++环境</h2><p><strong>1.创建一个c/cpp文件</strong><br>首先随便打开或者新建一个文件夹 然后在文件夹里创建一个c或cpp文件</p>
<hr>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    std::cout&lt;&lt;&quot;Hello World&quot;&lt;&lt;std::endl;</span><br><span class="line">    getchar();</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>2.修改launch.json 配置文件</strong><br>进入调试界面添加配置环境，选择 C++(GDB/LLDB)，再选择 g++.exe，之后会自动生成 launch.json 配置文件<br><img src="https://s2.ax1x.com/2020/03/08/3zTIT1.png" alt="8.png"><br><img src="https://s2.ax1x.com/2020/03/08/3zTHfK.png" alt="9.png"></p>
<p>编辑 launch.json 配置文件</p>
<hr>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    &quot;version&quot;: &quot;0.2.0&quot;,</span><br><span class="line">    &quot;configurations&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;name&quot;: &quot;g++.exe build and debug active file&quot;,</span><br><span class="line">        &quot;type&quot;: &quot;cppdbg&quot;,</span><br><span class="line">        &quot;request&quot;: &quot;launch&quot;,</span><br><span class="line">        &quot;program&quot;: &quot;$&#123;fileDirname&#125;\\$&#123;fileBasenameNoExtension&#125;.exe&quot;,</span><br><span class="line">        &quot;args&quot;: [],</span><br><span class="line">        &quot;stopAtEntry&quot;: false,</span><br><span class="line">        &quot;cwd&quot;: &quot;$&#123;workspaceFolder&#125;&quot;,</span><br><span class="line">        &quot;environment&quot;: [],</span><br><span class="line">        &quot;externalConsole&quot;: true,   &#x2F;&#x2F;修改此项，让其弹出终端</span><br><span class="line">        &quot;MIMode&quot;: &quot;gdb&quot;,</span><br><span class="line">        &quot;miDebuggerPath&quot;: &quot;D:&#x2F;MinGW&#x2F;mingw64&#x2F;bin&#x2F;gdb.exe&quot;,</span><br><span class="line">        &quot;setupCommands&quot;: [</span><br><span class="line">          &#123;</span><br><span class="line">            &quot;description&quot;: &quot;Enable pretty-printing for gdb&quot;,</span><br><span class="line">            &quot;text&quot;: &quot;-enable-pretty-printing&quot;,</span><br><span class="line">            &quot;ignoreFailures&quot;: true</span><br><span class="line">          &#125;</span><br><span class="line">        ],</span><br><span class="line">        &quot;preLaunchTask&quot;: &quot;task g++&quot;  &#x2F;&#x2F;修改此项</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>3.修改tasks.json文件</strong><br>返回.cpp文件，按F5进行调试，会弹出找不到任务”task g++”，选择 “配置任务”，会自动生成 tasks.json 文件编辑 tasks.json 文件</p>
<hr>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    &quot;version&quot;: &quot;2.0.0&quot;,</span><br><span class="line">    &quot;tasks&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;type&quot;: &quot;shell&quot;,</span><br><span class="line">        &quot;label&quot;: &quot;task g++&quot;,  &#x2F;&#x2F;修改此项</span><br><span class="line">        &quot;command&quot;: &quot;D:&#x2F;MinGW&#x2F;mingw64&#x2F;bin&#x2F;g++.exe&quot;,</span><br><span class="line">        &quot;args&quot;: [</span><br><span class="line">          &quot;-g&quot;,</span><br><span class="line">          &quot;$&#123;file&#125;&quot;,</span><br><span class="line">          &quot;-o&quot;,</span><br><span class="line">          &quot;$&#123;fileDirname&#125;\\$&#123;fileBasenameNoExtension&#125;.exe&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;options&quot;: &#123;</span><br><span class="line">          &quot;cwd&quot;: &quot;D:&#x2F;MinGW&#x2F;mingw64&#x2F;bin&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;problemMatcher&quot;: [</span><br><span class="line">          &quot;$gcc&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;group&quot;: &quot;build&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>4.修改c_cpp_properties.json配置文件</strong><br>这个时候运行，会报错”includepath”设置问题<br>我们需要新建一个c_cpp_properties.json配置文件</p>
<hr>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;configurations&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;Win32&quot;,</span><br><span class="line">            &quot;includePath&quot;: [</span><br><span class="line">                &quot;$&#123;workspaceRoot&#125;&quot;,</span><br><span class="line">                &quot;D:&#x2F;MinGW&#x2F;mingw64&#x2F;bin&#x2F;..&#x2F;lib&#x2F;gcc&#x2F;x86_64-w64-mingw32&#x2F;8.1.0&#x2F;include&#x2F;c++&quot;,</span><br><span class="line">                &quot;D:&#x2F;MinGW&#x2F;mingw64&#x2F;bin&#x2F;..&#x2F;lib&#x2F;gcc&#x2F;x86_64-w64-mingw32&#x2F;8.1.0&#x2F;include&#x2F;c++&#x2F;x86_64-w64-mingw32&quot;,</span><br><span class="line">                &quot;D:&#x2F;MinGW&#x2F;mingw64&#x2F;bin&#x2F;..&#x2F;lib&#x2F;gcc&#x2F;x86_64-w64-mingw32&#x2F;8.1.0&#x2F;include&#x2F;c++&#x2F;backward&quot;,</span><br><span class="line">                &quot;D:&#x2F;MinGW&#x2F;mingw64&#x2F;bin&#x2F;..&#x2F;lib&#x2F;gcc&#x2F;x86_64-w64-mingw32&#x2F;8.1.0&#x2F;include&quot;,</span><br><span class="line">                &quot;D:&#x2F;MinGW&#x2F;mingw64&#x2F;bin&#x2F;..&#x2F;lib&#x2F;gcc&#x2F;x86_64-w64-mingw32&#x2F;8.1.0&#x2F;include-fixed&quot;,</span><br><span class="line">                &quot;D:&#x2F;MinGW&#x2F;mingw64&#x2F;bin&#x2F;..&#x2F;lib&#x2F;gcc&#x2F;x86_64-w64-mingw32&#x2F;8.1.0&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;x86_64-w64-mingw32&#x2F;include&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;defines&quot;: [</span><br><span class="line">                &quot;_DEBUG&quot;,</span><br><span class="line">                &quot;UNICODE&quot;,</span><br><span class="line">                &quot;__GNUC__&#x3D;6&quot;,</span><br><span class="line">                &quot;__cdecl&#x3D;__attribute__((__cdecl__))&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;intelliSenseMode&quot;: &quot;msvc-x64&quot;,</span><br><span class="line">            &quot;browse&quot;: &#123;</span><br><span class="line">                &quot;limitSymbolsToIncludedHeaders&quot;: true,</span><br><span class="line">                &quot;databaseFilename&quot;: &quot;&quot;,</span><br><span class="line">                &quot;path&quot;: [</span><br><span class="line">                &quot;$&#123;workspaceRoot&#125;&quot;,</span><br><span class="line">                &quot;D:&#x2F;MinGW&#x2F;mingw64&#x2F;bin&#x2F;..&#x2F;lib&#x2F;gcc&#x2F;x86_64-w64-mingw32&#x2F;8.1.0&#x2F;include&#x2F;c++&quot;,</span><br><span class="line">                &quot;D:&#x2F;MinGW&#x2F;mingw64&#x2F;bin&#x2F;..&#x2F;lib&#x2F;gcc&#x2F;x86_64-w64-mingw32&#x2F;8.1.0&#x2F;include&#x2F;c++&#x2F;x86_64-w64-mingw32&quot;,</span><br><span class="line">                &quot;D:&#x2F;MinGW&#x2F;mingw64&#x2F;bin&#x2F;..&#x2F;lib&#x2F;gcc&#x2F;x86_64-w64-mingw32&#x2F;8.1.0&#x2F;include&#x2F;c++&#x2F;backward&quot;,</span><br><span class="line">                &quot;D:&#x2F;MinGW&#x2F;mingw64&#x2F;bin&#x2F;..&#x2F;lib&#x2F;gcc&#x2F;x86_64-w64-mingw32&#x2F;8.1.0&#x2F;include&quot;,</span><br><span class="line">                &quot;D:&#x2F;MinGW&#x2F;mingw64&#x2F;bin&#x2F;..&#x2F;lib&#x2F;gcc&#x2F;x86_64-w64-mingw32&#x2F;8.1.0&#x2F;include-fixed&quot;,</span><br><span class="line">                &quot;D:&#x2F;MinGW&#x2F;mingw64&#x2F;bin&#x2F;..&#x2F;lib&#x2F;gcc&#x2F;x86_64-w64-mingw32&#x2F;8.1.0&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;x86_64-w64-mingw32&#x2F;include&quot;</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;version&quot;: 4</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>记得把路径修改为你自己的路径<br>查找自己路径方法为打开cmd 输入:<br><strong>gcc -v -E -x c++ -</strong><br><img src="https://s2.ax1x.com/2020/03/08/3zTvmd.png" alt="10.png"><br>修改后保存即可</p>
<p><strong>5.运行文件</strong><br>这个时候我们已经配置完成啦<br>可以开始运行我们刚才创建的测试代码啦<br>F5：VScode调试<br>CTRL+ALT+N:code runner调试<br><img src="https://s2.ax1x.com/2020/03/08/3zTzTI.png" alt="11.png"><br><img src="https://s2.ax1x.com/2020/03/08/3z7ut0.png" alt="12.png"></p>
<h2 id="至此，整个配置就完成啦"><a href="#至此，整个配置就完成啦" class="headerlink" title="至此，整个配置就完成啦"></a>至此，整个配置就完成啦</h2><p>注：<br>为什么不直接用VisualStudio?<br>1.太大啦，只安一个C++环境就要少说1G，完整部件安装差不多10G就没了<br>2.VS使用的VSC++，很多C++支持的功能VC都不支持，所以我们选择从Linux GCC移植过来的MinGW（建议学习C/C++尽量使用gcc编译器，clang好像也不错，<strong>建议不要使用</strong>万恶之源：VC++6</p>
]]></content>
      <tags>
        <tag>C/C++</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2020/03/13/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>
]]></content>
  </entry>
</search>
